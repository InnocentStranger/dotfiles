# =============================================
# 1. CORE & DISPLAY SETTINGS
# =============================================

# Ensure terminal starts with its own color scheme (prevents color weirdness)
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Enable Mouse support
set -g mouse on

# Enable OSC 8 Hyperlinks (for clickable links in terminal)
set -as terminal-features ',*:hyperlinks'


# =============================================
# 2. KEYBINDINGS: NAVIGATION
# =============================================

# Use Alt + Vim keys to switch Panes (No Prefix needed)
bind -n M-h select-pane -L  # Alt + h -> Left
bind -n M-l select-pane -R  # Alt + l -> Right
bind -n M-k select-pane -U  # Alt + k -> Up
bind -n M-j select-pane -D  # Alt + j -> Down

# Use Alt + Vim keys to switch Windows (No Prefix needed)
bind -n M-H previous-window # Alt + Shift + h
bind -n M-L next-window     # Alt + Shift + l

# Cycle Sessions with ) and ( (Repeatable)
# You can press Ctrl+b then ) ) ) to cycle quickly
bind -r ) switch-client -n
bind -r ( switch-client -p


# =============================================
# 3. SESSION & WINDOW MANAGEMENT
# =============================================

# Rename Session (Ctrl+b Ctrl+s)
unbind C-s # Unbind default if necessary
bind C-s command-prompt -I "#S" "rename-session '%%'"

# Rename Window (Ctrl+b Ctrl+w)
unbind C-w # Unbind default if necessary
bind C-w command-prompt -I "#W" "rename-window '%%'"

# Kill Window with X (instead of &)
unbind &
bind X kill-window

# Create new session with N (extra)
bind N command-prompt -p "New Session Name:" "new-session -A -s '%%'"


# =============================================
# 4. COPY MODE (VI STYLE)
# =============================================

setw -g mode-keys vi
# Note: 'wl-copy' requires Wayland. Use 'xclip' or 'pbcopy' if on X11 or Mac.
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "wl-copy"


# =============================================
# 5. THEME: TOKYO NIGHT (CUSTOM)
# =============================================

# --- Status Bar Layout ---
set -g status-position top
set -g status-justify left
set -g status-style 'bg=#011628 fg=#CBE0F0'

# --- Left Side (Session Name) ---
set -g status-left '#[bg=#547998,fg=#011423,bold] #S #[bg=#011628,fg=#547998] '
set -g status-left-length 20

# --- Window Tabs ---
# Inactive: Faded blue text on dark background
setw -g window-status-format '#[fg=#627E97,bg=#011628] #I:#W '
# Active: Bold white text on lighter blue background with arrows
setw -g window-status-current-format '#[fg=#011628,bg=#275378]#[fg=#CBE0F0,bg=#275378,bold] #I:#W #[fg=#275378,bg=#011628,nobold]'

# --- Right Side (Date & Time) ---
set -g status-right '#[fg=#547998,bg=#011628]#[fg=#011423,bg=#547998] %Y-%m-%d  %H:%M '
set -g status-right-length 50


# =============================================
# 6. THEME: UI ELEMENTS & BORDERS
# =============================================

# --- Pane Borders ---
set -g pane-border-style 'fg=#143652'        # Inactive border
set -g pane-active-border-style 'fg=#547998' # Active border

# --- Messages (Command Line) ---
set -g message-style 'bg=#275378 fg=#CBE0F0'
set -g message-command-style 'bg=#011628,fg=#CBE0F0'

# --- Mode Style (Selection Color) ---
# Used in Copy Mode and Choose-Tree
set -g mode-style "bg=#275378,fg=#CBE0F0"
